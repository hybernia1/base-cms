{% macro pagination(pagination) %}
    {% if pagination.pages > 1 %}
        <nav aria-label="Stránkování" class="mt-3">
            <ul class="pagination pagination-sm justify-content-center pagination-soft">
                <li class="page-item {% if not pagination.has_prev %}disabled{% endif %}">
                    <a class="page-link d-flex align-items-center gap-2" href="{{ pagination.prev_url ?: '#' }}" aria-label="Předchozí">
                        <i class="bi bi-chevron-left"></i>
                        <span class="d-none d-md-inline">Předchozí</span>
                    </a>
                </li>

                {% for page in pagination.page_numbers %}
                    <li class="page-item {% if page == pagination.page %}active{% endif %}">
                        <a class="page-link fw-semibold" href="{{ pagination.page_urls[page] ?? '#' }}">{{ page }}</a>
                    </li>
                {% endfor %}

                <li class="page-item {% if not pagination.has_next %}disabled{% endif %}">
                    <a class="page-link d-flex align-items-center gap-2" href="{{ pagination.next_url ?: '#' }}" aria-label="Další">
                        <span class="d-none d-md-inline">Další</span>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                </li>
            </ul>
        </nav>
    {% endif %}
{% endmacro %}

{% macro actions(actions, size = 'sm') %}
    <div class="btn-{{ size }}" role="group">
        {% for action in actions %}
            {% set tooltip = action.title ?: action.label %}

            {% if action.type == 'link' %}
                <a href="{{ action.href }}"
                   class="btn btn-outline-{{ action.variant|default('secondary') }} btn-icon"
                   title="{{ tooltip }}"
                   aria-label="{{ tooltip }}">
                    {% if action.icon %}<i class="bi {{ action.icon }}"></i>{% endif %}
                </a>

            {% elseif action.type == 'form' %}
                <form method="{{ action.method|default('post') }}"
                      action="{{ action.action }}"
                      class="d-inline"
                      {% if action.ajax %}data-ajax-delete="1"{% endif %}
                      {% if action.confirm %}data-confirm="{{ action.confirm }}"{% endif %}>

                    {% if action.hidden is defined %}
                        {% for name, value in action.hidden %}
                            <input type="hidden" name="{{ name }}" value="{{ value }}">
                        {% endfor %}
                    {% endif %}

                    <button type="submit"
                            class="btn btn-outline-{{ action.variant|default('secondary') }} btn-icon"
                            title="{{ tooltip }}"
                            aria-label="{{ tooltip }}">
                        {% if action.icon %}<i class="bi {{ action.icon }}"></i>{% endif %}
                    </button>
                </form>
            {% endif %}
        {% endfor %}
    </div>
{% endmacro %}
