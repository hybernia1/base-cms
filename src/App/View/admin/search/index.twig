{% extends 'admin/layout.twig' %}

{% block title %}Vyhledávání | Administrace{% endblock %}

{% block body %}
    <div class="page-header mb-4">
        <div>
            <h1 class="h3 mb-1">Vyhledávání</h1>
            <p class="text-muted mb-0">Hledejte v souborech, médiích, termech, obsahu i komentářích.</p>
        </div>
    </div>

    <form method="get" action="/admin/search" class="card shadow-sm mb-4">
        <div class="card-body">
            <label for="searchQuery" class="form-label">Hledaný výraz</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-search"></i></span>
                <input type="text"
                       id="searchQuery"
                       name="q"
                       value="{{ query }}"
                       class="form-control"
                       placeholder="Zadejte text pro vyhledávání"
                       required>
                <button type="submit" class="btn btn-primary">Hledat</button>
            </div>
        </div>
    </form>

    {% if query is empty %}
        <div class="alert alert-info">Zadejte dotaz a zobrazí se výsledky.</div>
    {% else %}
        <div class="row g-4">
            <div class="col-12 col-lg-6">
                {% include 'admin/search/partials/_contents.twig' with { items: contents } only %}
            </div>
            <div class="col-12 col-lg-6">
                {% include 'admin/search/partials/_terms.twig' with { items: terms } only %}
            </div>
            <div class="col-12 col-lg-6">
                {% include 'admin/search/partials/_media.twig' with { items: media } only %}
            </div>
            <div class="col-12 col-lg-6">
                {% include 'admin/search/partials/_files.twig' with { items: files } only %}
            </div>
            <div class="col-12">
                {% include 'admin/search/partials/_comments.twig' with { items: comments } only %}
            </div>
        </div>
    {% endif %}
{% endblock %}
