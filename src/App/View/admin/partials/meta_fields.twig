{% macro fields(meta_keys, meta_values, options = {}) %}
    {% if meta_keys is not empty %}
        <div class="card shadow-sm mb-3 {{ options.class|default('') }}">
            <div class="card-header d-flex align-items-center justify-content-between">
                <span class="fw-semibold">{{ options.title|default('Meta údaje') }}</span>
                <span class="badge text-bg-light">{{ meta_keys|length }}</span>
            </div>
            <div class="card-body">
                <p class="text-muted small mb-3">{{ options.help|default('Vyplň dodatečné informace. Ponech prázdné, pokud nemají být uloženy.') }}</p>
                <div class="vstack gap-3">
                    {% for meta in meta_keys %}
                        <div class="border rounded p-3">
                            <label class="form-label fw-semibold mb-1" for="meta-{{ meta.key }}">{{ meta.name }}</label>
                            <input
                                type="text"
                                class="form-control"
                                id="meta-{{ meta.key }}"
                                name="meta[{{ meta.key }}]"
                                value="{{ meta_values[meta.key]|default('') }}"
                            >
                            <div class="form-text">Klíč: <code>{{ meta.key }}</code></div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% elseif options.show_empty is defined and options.show_empty %}
        <div class="card shadow-sm mb-3 {{ options.class|default('') }}">
            <div class="card-body">
                <p class="text-muted mb-0">Zatím nejsou dostupné žádné meta klíče.</p>
            </div>
        </div>
    {% endif %}
{% endmacro %}
